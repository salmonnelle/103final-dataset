# Credit Card Fraud Detection - Data Cleaning Documentation

## Dataset Overview

The credit card fraud detection dataset (`creditcard.csv`) contains transactions made by credit cards, with a small percentage being fraudulent. This document explains the data cleaning process and the purpose of each resulting dataset.

### Original Dataset

- **Filename**: `creditcard.csv`
- **Size**: 284,807 rows × 31 columns
- **Features**:
  - `Time`: Seconds elapsed between each transaction and the first transaction
  - `Amount`: Transaction amount
  - `V1-V28`: Principal components obtained with PCA transformation (anonymized features)
  - `Class`: Target variable (1 for fraud, 0 for legitimate)
- **Class Distribution**: 
  - Legitimate transactions (0): 284,315 (99.83%)
  - Fraudulent transactions (1): 492 (0.17%)

## Data Cleaning Process

### 1. Initial Data Assessment

- Checked dataset shape and structure
- Identified 0 missing values
- Found 1,081 duplicate transactions
- Verified data types and basic statistics

### 2. Feature-Specific Cleaning

#### Time Feature
- Verified time range: 0 to 172,792 seconds
- Checked for negative values (none found)
- Created derived features:
  - `Hour`: Hour of day (0-23)
  - `Day`: Day number
  - `Time_scaled`: Standardized time values

#### Amount Feature
- Verified amount range: $0.00 to $25,691.16
- Checked for negative amounts (none found)
- Identified outliers using IQR method:
  - Lower bound: -$101.75
  - Upper bound: $184.51
  - 31,904 transactions above upper bound
- Created derived features:
  - `Amount_log`: Log-transformed amount (reduces skewness)
  - `Amount_scaled`: Robust-scaled amount (handles outliers better)
  - `Amount_zscore`: Z-score normalized amount

#### V1-V28 Features
- Already transformed via PCA
- No additional transformations applied
- No missing values found

#### Class Feature
- Verified only contains 0s and 1s
- Confirmed severe class imbalance (0.17% fraud)

### 3. Train-Test-Validation Split

Applied stratified splitting to maintain class distribution:
- Training set (60%): 170,883 samples
- Validation set (20%): 56,962 samples
- Test set (20%): 56,962 samples

### 4. SMOTE Application

Applied SMOTE (Synthetic Minority Over-sampling Technique) to the training data only:
- Before SMOTE: 295 fraud cases (0.17%)
- After SMOTE: 170,588 fraud cases (50%)

## Resulting Datasets

### 1. Cleaned Dataset

- **Filename**: `cleaned_credit_card_data.csv`
- **Purpose**: Complete dataset with all cleaning steps applied but without SMOTE
- **Size**: 284,807 rows × 36 columns
- **Use Case**: Source dataset for train-test-validation splitting

### 2. SMOTE-Augmented Training Set

- **Filename**: `smote_train.csv`
- **Purpose**: Training data with balanced classes (50% fraud, 50% legitimate)
- **Size**: 341,176 rows × 36 columns
- **Important Note**: Contains synthetic fraud cases generated by SMOTE

### 3. Original Training Set

- **Filename**: `original_train.csv`
- **Purpose**: Training data with original class distribution
- **Size**: 170,883 rows × 36 columns
- **Use Case**: Training models that can handle class imbalance or as a baseline

### 4. Validation Set

- **Filename**: `original_val.csv`
- **Purpose**: Data for model validation and hyperparameter tuning
- **Size**: 56,962 rows × 36 columns
- **Use Case**: Evaluating model performance during development
- **Important Note**: Maintains original class distribution for realistic evaluation

### 5. Test Set

- **Filename**: `original_test.csv`
- **Purpose**: Holdout data for final model evaluation
- **Size**: 56,962 rows × 36 columns
- **Use Case**: Final assessment of model performance
- **Important Note**: Should only be used once after model selection and tuning

## Feature Dictionary

| Feature | Description | Type | Derived From |
|---------|-------------|------|-------------|
| Time | Seconds elapsed since first transaction | Original | - |
| Amount | Transaction amount in original currency | Original | - |
| V1-V28 | PCA components (anonymized features) | Original | - |
| Class | Target variable (1=fraud, 0=legitimate) | Original | - |
| Hour | Hour of day (0-23) | Derived | Time |
| Day | Day number | Derived | Time |
| Time_scaled | Standardized time values | Derived | Time |
| Amount_log | Log-transformed amount | Derived | Amount |
| Amount_scaled | Robust-scaled amount | Derived | Amount |
| Amount_zscore | Z-score normalized amount | Derived | Amount |



